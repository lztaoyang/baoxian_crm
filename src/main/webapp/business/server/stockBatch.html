<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>管理</title>
    <meta http-equiv="Access-Control-Allow-Origin" content="http://hq.sinajs.cn/list=">
    <!-- 引入样式 -->
    <link rel="stylesheet" href="/css/eui.1.3.0.css">
    <link rel="stylesheet" href="/css/bootstrap.3.3.7.css">
    <link href="https://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">

    <!--<link rel="stylesheet" href="css/docs.css">-->
    <!--<script src="js/jquery.min.1.12.4.js"></script>-->
    <script src="/js/lib/vue.2.3.2.js"></script>
    <script src="/js/lib/vuex.2.3.1.js"></script>
    <script src="/js/lib/vue-resource.1.3.1.js"></script>
    <script src="/js/lib/eui.1.3.0.js"></script>
    <script src="/js/lib/vue-html5-editor.js"></script>
    <script src="/js/lib/common.js"></script>
    <script src="/js/lib/vue-component-dic.js"></script>
    <script src="/js/lib/jquery.min.1.12.4.js"></script>
    <style type="text/css">
	  .el-table .refund-row {
	    background: #FFAEB9;
	  }
	  .el-table .refund-wait-row {
	    background: #FF8C69;
	  }
	  .el-table .cell, .el-table th>div {
    		padding-left : 2px;
    		padding-right : 2px;
    	}
	</style>
</head>
<body>
<div id="app">
<!---------------------------页头导航 开始----------------------------------------------------------------------->
    <el-row style="margin:10px 10px 10px 10px;">
    </el-row>
<!---------------------------页头导航 结束----------------------------------------------------------------------->
<!-- 页眉 开始-->
    <el-row style="margin:10px 10px 0px 10px;">
        <el-col :span="16">
        	<el-button size="small" @click="readList">刷新列表</el-button>
           <!--  <el-button size="small" type="primary" :plain="false" @click="showStockDialog">实盘批量建仓</el-button> -->
            <el-button size="small" type="primary" :plain="false" @click="showTeacherStockDialog">虚盘批量建仓</el-button>
            <el-button size="small" type="primary" :plain="false" @click="showTeacherStockAddDialog">虚盘批量加仓</el-button>
            <el-button size="small" type="primary" :plain="false" @click="showTeacherStockOutDialog">虚盘批量平仓</el-button>
            <el-button size="small" type="primary" :plain="false" @click="showTeacherHalfStockOutDialog">虚盘批量平半仓</el-button>
        </el-col>
    </el-row>
<!-- 页眉 结束-->
<!---------------------------查询面板 开始----------------------------------------------------------------------->
    <hr style="margin:0px ;"/>
   	<el-row style="margin:10px 10px 0px 10px;">
           <el-form :inline="true" :model="searchParams" label-position="right" style="margin-bottom: 0px" >
    		<el-row>
    			<el-form-item label="客户姓名" style="font-size: 13px;" prop="name">
		    		<el-input style="width:700px;" size="small" v-model="searchParams.name" placeholder="支持多客户名搜索，如：张三，李四，王五" ></el-input>
		    	</el-form-item>
		    	<el-form-item label="所属人" style="font-size: 13px;" prop="subordinate">
		    		<lz-dic-select style="width:100px;" dic-type="SUBORDINATES" v-model="searchParams.subordinate"></lz-dic-select>
		    	</el-form-item>
    		</el-row>
    		<el-row>
	    		<el-form-item label="手机号码" style="font-size: 13px;" prop="mobile">
		    		<el-input style="width:100px;" size="small" v-model="searchParams.mobile" placeholder="手机号" ></el-input>
		    	</el-form-item>
		    	<el-form-item label="股票代码" style="font-size: 13px;" prop="stockCode">
		    		<el-input style="width:100px;" size="small" v-model="searchParams.stockCode" placeholder="股票代码" ></el-input>
		    	</el-form-item>
		    	<el-form-item label="股票名称" style="font-size: 13px;" prop="stockName">
		    		<el-input style="width:100px;" size="small" v-model="searchParams.stockName" placeholder="股票名称" ></el-input>
		    	</el-form-item>
	    		<el-form-item label="虚盘持股数" style="font-size: 13px;" prop="teacherStockNum">
		    		<el-input style="width:100px;" size="small" v-model="searchParams.teacherStockNum" placeholder="虚盘持股数" ></el-input>
		    	</el-form-item>
		    	 <el-form-item>
                   <el-button size="small" type="info" @click="readList">查询</el-button>
                   <el-button size="small" @click="flushAndReadList">清空并刷新</el-button>
               </el-form-item>
    		</el-row>
           </el-form>
       </el-row>
<!---------------------------查询面板 结束----------------------------------------------------------------------->
<!---------------------------数据表格 开始----------------------------------------------------------------------->
   <el-row style="margin:10px 10px 0px 10px;">
        <el-table id="12324"
                  :data="pageData.data"
                  ref="entityTable"
                  border
                  highlight-current-row
                  max-height="456"
                  row-key="customer.id"
                  empty-text="-"
                  append="加载中..."
                  :row-style="{'font-size':'13px'}"
                  style="width: 100%"
                  :row-class-name="signRowClassName"
                  @selection-change="selectionChange"
                  @row-dblclick="readDetail"
        >
            <el-table-column
                    type="selection"
                    prop="customer.id"
                    align="center"
                    width="25"
            >
            </el-table-column>
                
            <el-table-column
            		fixed="left"
                    prop="customer.name"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="客户姓名"
                    align="center"
                    >
                </el-table-column>
            
            <el-table-column
            		fixed="left"
                    prop="apply.insuranceId"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="签单产品"
                    align="center"
                    >
                    <template scope="scope">
                    	<lz-dic-txt dic-type="ALLPRODUCT" :dic-code="scope.row.apply.insuranceId"></lz-dic-txt>
                	</template>
                </el-table-column>
                
            <el-table-column
            		fixed="left"
                    prop="apply.amount"
                    min-width="80"
                    v-bind:show-overflow-tooltip="true"
                    label="签单金额"
                    align="center"
                    >
                </el-table-column>
                
            <el-table-column
                    prop="customer.stockNum"
                    min-width="80"
                    v-bind:show-overflow-tooltip="true"
                    label="实股数"
                    align="center"
                    >
                </el-table-column>
            <el-table-column
                    prop="customer.teacherStockNum"
                    min-width="80"
                    v-bind:show-overflow-tooltip="true"
                    label="虚股数"
                    align="center"
                    >
                </el-table-column>
                
            <el-table-column
                    prop="customer.insureNum"
                    min-width="80"
                    v-bind:show-overflow-tooltip="true"
                    label="签单次数"
                    align="center"
                    >
                </el-table-column>
                
            <!-- <el-table-column
                    prop="customer.fuzzyMobile"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="客户手机"
                    align="center"
                    >
                </el-table-column> -->
            <el-table-column
                    prop="customer.lastCallTime"
                    min-width="140"
                    v-bind:show-overflow-tooltip="true"
                    label="最近通话时间"
                    align="center"
                    >
                </el-table-column>
            <el-table-column
                    prop="customer.lastCallRecord"
                    min-width="150"
                    v-bind:show-overflow-tooltip="true"
                    label="通话内容"
                    align="center"
                    >
                </el-table-column>
                
                
            <el-table-column
                    prop="customer.belong"
                    min-width="160"
                    v-bind:show-overflow-tooltip="true"
                    label="市场部"
                    align="center"
                    >
                </el-table-column>
            
            <el-table-column
                    prop="customer.position"
                    min-width="80"
                    v-bind:show-overflow-tooltip="true"
                    label="实盘总仓位"
                    align="center"
                    >
                     <template scope="scope">
                    	<span>{{rateFormat(scope.row.customer.position)}}</span>
                	</template>
                </el-table-column>
            <el-table-column
                    prop="customer.teacherPosition"
                    min-width="80"
                    v-bind:show-overflow-tooltip="true"
                    label="虚盘总仓位"
                    align="center"
                    >
                     <template scope="scope">
                    	<span>{{rateFormat(scope.row.customer.teacherPosition)}}</span>
                	</template>
                </el-table-column>
                
            <el-table-column
            		fixed="right"
                    prop="customer.startDate"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="服务开始时间"
                    align="center"
                    >
                    <template scope="scope">
                    	<span>{{birthdayFormat(scope.row.customer.startDate)}}</span>
                	</template>
                </el-table-column>
                
            <el-table-column
            		fixed="right"
                    prop="customer.endDate"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="服务结束时间"
                    align="center"
                    >
                    <template scope="scope">
                    	<span>{{birthdayFormat(scope.row.customer.endDate)}}</span>
                	</template>
                </el-table-column>
                
            <el-table-column
            		fixed="right"
                    prop="customer.serverName"
                    min-width="80"
                    v-bind:show-overflow-tooltip="true"
                    label="客服人员"
                    align="center"
                    >
                </el-table-column>
            
        </el-table>
    </el-row>
    <!-- 表尾 开始-->
    <el-row style="margin:10px 10px 0px 10px;float:right;">
        <el-col :span="16" class="text-right">
        	<!-- 分页 -->
            <el-pagination ref="entityTablePage"
                           :current-page="pageData.current"
                           :page-sizes="[10, 50, 100]"
                           :page-size="pageData.size"
                           layout="total, sizes, prev, pager, next, jumper"
                           :total="pageData.iTotalRecords"
                           @size-change="readList"
                           @current-change="readList"
            >
            </el-pagination>
        </el-col>
    </el-row>
    <!-- 表尾 结束-->
<!---------------------------数据表格 结束----------------------------------------------------------------------->
<!---------------------------弹出详情窗口 开始----------------------------------------------------------------------->
<el-dialog  title="客户详情" width="100%" size="large" top="3%"  :before-close="handleClose" :visible.sync="detailFormVisible">
	<el-tabs v-model="activeName1" type="border-card">
		<el-tab-pane label="客户详情" name="customerInfo">
			<el-row>
			    <el-col :span="16">
			        <el-form ref="detailForm" :model="entity" label-position="left" :rules="rules2">
			        	<el-input size="small" v-model="entity.id" v-show="false" ></el-input>
			            <!-- <el-row style="margin:10px 10px 0px 10px;">
					        <el-col :span="16">
					            <el-button size="small" type="primary" :plain="false" @click="showRecordOneDialog(entity.id,entity.name)">普通服务</el-button>
					            <el-button size="small" type="primary" :plain="false" @click="showRefundOneDialog(entity.id,entity.name)">申请退款</el-button>
					            <el-button size="small" type="danger" :plain="false" @click="showSuspendServerDialog(entity.id)">暂停服务</el-button>
		            			<el-button size="small" type="danger" :plain="false" @click="showStopServerDialog(entity.id)">结束服务</el-button>
					        </el-col>
					    </el-row> -->
			            <el-col :span="8">
					    	<el-form-item label="姓名：" label-width="80px">
			    				<span>{{ entity.name }}</span>
			        		</el-form-item>
			        	</el-col>
			            <el-col :span="8">
			            	<el-form-item label="手机号：" label-width="80px">
								<span>{{ entity.showMobile }}</span>
			        		</el-form-item>
			        	</el-col>
			            <el-col :span="8">
					    	<el-form-item label="区域：">
			                	<span>{{ entity.province }} - {{ entity.city }}</span>
			            	</el-form-item>
			        	</el-col>
			        	<el-col :span="8">
			            	<el-form-item label="职业：" label-width="80px" prop="duty">
			    				<el-input style="width:100px;" size="small" v-model="entity.duty" placeholder="职业" ></el-input>
			        		</el-form-item>
			        	</el-col>
			            <el-col :span="8">
			        		<el-form-item label="性别：" label-width="80px" prop="sex">
			    			<lz-dic-select style="width:100px;" v-model="entity.sex" dic-type="SEX"></lz-dic-select>
			        		</el-form-item>
			        	</el-col>
			    		<el-col :span="8">
			            	<el-form-item label="年龄：" label-width="80px" prop="age">
			    				<el-input type="number" style="width:100px;" size="small" v-model="entity.age" placeholder="年龄" ></el-input>
			        		</el-form-item>
			        	</el-col>
			        	<el-col :span="24">
				        	<el-row style="width:98%" :gutter="20">
					            <el-col :span="8">
					        		<el-form-item label="投入资金:" label-width="90px" prop="totalMoney">
					    				<el-input type="text" style="width:90px;" size="small" v-model="entity.totalMoney" placeholder="投入资金" ></el-input>
					        		</el-form-item>
					        	</el-col>
					    		<el-col :span="8">
					            	<el-form-item label="可用资金：">
					                	<span>{{ entity.useMoney }}</span>
					            	</el-form-item>
					        	</el-col>
					    		<el-col :span="8">
					            	<el-form-item label="盈亏金额：">
					                	<span>{{ entity.lossMoney }}</span>
					            	</el-form-item>
					        	</el-col>
					        </el-row>
					    </el-col>
					    <el-col :span="24">
		        	<el-row style="width:98%" :gutter="20">
			            <el-col :span="8">
			        		<el-form-item label="虚盘投入资金:" label-width="90px" prop="totalTeacherMoney">
			    				<el-input type="text" style="width:90px;" size="small" v-model="entity.totalTeacherMoney" placeholder="投入资金" ></el-input>
			        		</el-form-item>
			        	</el-col>
			    		<el-col :span="8">
			            	<el-form-item label="虚盘可用资金：">
			                	<span>{{ entity.useTeacherMoney }}</span>
			            	</el-form-item>
			        	</el-col>
			        	<el-col :span="8">
			            	<el-form-item label="虚盘盈亏金额：">
			                	<span>{{ entity.lossTeacherMoney }}</span>
			            	</el-form-item>
			        	</el-col>
			        </el-row>
			    </el-col>	
			            <el-col :span="8">
					    	<el-form-item label="总监：">
			                	<span>{{ entity.directorName }}</span>
			            	</el-form-item>
			        	</el-col>
			            <el-col :span="8">
					    	<el-form-item label="经理：">
			                	<span>{{ entity.managerName }}</span>
			            	</el-form-item>
			        	</el-col>
			            <el-col :span="8">
					    	<el-form-item label="业务员：">
			                	<span>{{ entity.salerName }}</span>
			            	</el-form-item>
			        	</el-col>
			        	<el-col :span="8">
					    	<el-form-item label="合规：" >
			                	<span>{{ entity.contracterName }}</span>
			            	</el-form-item>
			        	</el-col>
			        	<el-col :span="8">
					    	<el-form-item label="客服：" >
			                	<span>{{ entity.serverName }}</span>
			            	</el-form-item>
			        	</el-col>
			        	<el-col :span="24">
				        	<el-row style="width:98%" :gutter="20">
					            <el-col :span="8">
							    	<el-form-item label="客服部备注" >
					                	<el-input type="textarea" :rows="5" size="small" placeholder="客服部备注" v-model="entity.serverRemark" ></el-input>
					            	</el-form-item>
					        	</el-col>
					        	<el-col :span="8">
							    	<el-form-item label="市场部备注" >
					                	<el-input type="textarea" :rows="5" size="small" placeholder=" 市场部备注" v-model="entity.contracterRemark" :readonly="true" ></el-input>
					            	</el-form-item>
					        	</el-col>
					        	<el-col :span="8">
							    	<el-form-item label="合规部备注" >
					                	<el-input type="textarea" :rows="5" size="small" placeholder="合规部备注" v-model="entity.upgradeRemark" :readonly="true"></el-input>
					            	</el-form-item>
					        	</el-col>
					        </el-row>
					    </el-col>
			            <el-col :span="23">
					    	<el-row style="margin-top:10px;" type="flex" justify="center">
								<el-button size="large" type="info" @click="save">保存客户信息</el-button>
							</el-row>
			        	</el-col>
			        </el-form>
		        </el-col>
		        <el-col :span="8">
	        	<el-card class="box-card">
				    <el-row>
			        	<el-form ref="serverRecordMobileForm" :model="serverRecordMobileEntity1" >
			        		<el-col :span="12">
			        			<el-button style="margin:0 0 10px 22px" size="large" type="success" :disabled="callDisable" @click="detailsCall">拨打电话</el-button>
			        		</el-col>
			        		<el-col :span="12">
			        			<el-button style="margin:0 0 10px 22px" size="large" type="danger" @click="topdrop">挂断电话</el-button>
			        		</el-col>
					        <el-col :span="24">
						        <el-form-item label="通话类型：" prop="type">
						             <el-radio-group v-model="serverRecordMobileEntity1.type">
								    	<el-radio label="0">未接通</el-radio>
										<el-radio label="1">已接通</el-radio>
						  			</el-radio-group>
						        </el-form-item>
					        </el-col>
					    	<el-col :span="24">
						        <el-form-item label="通话时长：" prop="timeLength">
						             <span>{{ timerFormat(serverRecordMobileEntity1.timeLength) }}</span>
						        </el-form-item>
					        </el-col>
					    	<el-col :span="24">
						        <el-form-item label="通话内容：">
						    		<el-input type="textarea" :rows="5" size="small" placeholder="请填写本次通话记录" v-model="serverRecordMobileEntity1.serverRecord"></el-input>
						        </el-form-item>
					        </el-col>
			        	</el-form>
			        	<div style="float:left;margin-left:100px">
							<el-button style="margin-top:12px" size="small" type="info" :disabled="showSaveButton"  @click="detailsSaveRecord">保存通话记录</el-button>
						</div>
			        </el-row>
		        </el-card>
	        </el-col>
		    </el-row>
	        <el-row style="margin-top:10px">
		        <el-tabs v-model="activeName" type="border-card">
		        	<el-tab-pane label="通话记录" name="record2">
		    			<span slot="label" @click="flushSalerRecord">通话记录</span>
						<el-table height="178" :data="serverRecordMobileEntity" border ref="entityTable"  max-height="450px" empty-text="暂无数据" append="加载中..." :row-style="{'font-size':'13px'}" style="width: 100%" >
							<el-table-column type="index" width="30" align="center"></el-table-column>
							<el-table-column prop="serverName" min-width="100" v-bind:show-overflow-tooltip="true" 
								label="拨打人员" align="center"></el-table-column>
							<el-table-column prop="type" min-width="100" v-bind:show-overflow-tooltip="true" 
								label="是否接通" align="center">
								<template scope="scope">
		                    		<span v-if="scope.row.type == 1" style="display: block; width:100%;height:40px;line-height:40px;background-color: #FFAEB9;">是</span>
		                    		<span v-if="scope.row.type == 0">否</span>
		                		</template>
							</el-table-column>
							<el-table-column prop="createTime" min-width="160" v-bind:show-overflow-tooltip="true" 
								label="拨打时间" align="center" sortable>
									<template scope="scope">
		                    			<span>{{minuteFormat(scope.row.createTime)}}</span>
		                			</template>
								</el-table-column>
							<el-table-column prop="serverRecord" min-width="320" v-bind:show-overflow-tooltip="true" 
								label="通话内容" align="center"></el-table-column>
							<el-table-column prop="callFile" min-width="160" v-bind:show-overflow-tooltip="true" 
								label="录音文件" align="center" >
									<template scope="scope">
		                    			<el-button size="small" type="warning" @click="ftpDown(scope.row.callFile)" v-if="isThough(scope.row.type)">{{recordExist(scope.row.callFile)}}</el-button>
		                			</template>
								</el-table-column>
							<el-table-column prop="timeLength" min-width="100" v-bind:show-overflow-tooltip="true" 
								label="通话时长" align="center" >
									<template scope="scope">
		                    			<span>{{timerFormat(scope.row.timeLength)}}</span>
		                			</template>
								</el-table-column>
						</el-table>
					</el-tab-pane>
					<el-tab-pane label="服务记录" name="record1">
						<el-table height="178" :data="serverRecordEntity" border ref="entityTable"  max-height="450px" empty-text="暂无数据" append="加载中..." :row-style="{'font-size':'13px'}" style="width: 100%" >
							<el-table-column type="index" width="30" align="center"></el-table-column>
							<el-table-column prop="serverName" min-width="100" v-bind:show-overflow-tooltip="true" 
								label="客服" align="center"></el-table-column>
							<el-table-column prop="type" min-width="100" v-bind:show-overflow-tooltip="true" 
								label="类型" align="center">
								<template scope="scope">
									<lz-dic-txt dic-type="RECORDTYPE" :dic-code="scope.row.type"></lz-dic-txt>
								</template>
							</el-table-column>
							<el-table-column prop="serverRecord" min-width="580" v-bind:show-overflow-tooltip="true" 
								label="服务内容" align="center"></el-table-column>
							<el-table-column prop="createTime" min-width="160" v-bind:show-overflow-tooltip="true" 
								label="时间" align="center" sortable>
									<template scope="scope">
		                    			<span>{{minuteFormat(scope.row.createTime)}}</span>
		                			</template>
								</el-table-column>
						</el-table>
					</el-tab-pane>
		    		<el-tab-pane label="客户订单" name="apply1">
						<el-table height="178" :data="applyEntity" border ref="entityTable" max-height="450px" empty-text="暂无数据" append="加载中..." :row-style="{'font-size':'13px'}" style="width: 100%" :row-class-name="signRowClassName">
							<el-table-column type="index" width="40" align="center"></el-table-column>
							<el-table-column prop="createTime" min-width="100" v-bind:show-overflow-tooltip="true" 
								label="签单时间" align="center" sortable>
									<template scope="scope">
		                    			<span>{{birthdayFormat(scope.row.createTime)}}</span>
		                			</template>
							</el-table-column>
							<el-table-column prop="insuranceId" min-width="120" v-bind:show-overflow-tooltip="true" 
								label="产品名称" align="center">
									<template scope="scope">
										<lz-dic-txt dic-type="ALLPRODUCT" :dic-code="scope.row.insuranceId"></lz-dic-txt>
									</template>
								</el-table-column>
							<el-table-column prop="amount" min-width="100" v-bind:show-overflow-tooltip="true" 
								label="缴费金额" align="center">
								<template scope="scope">
		                    		<span>{{rmbFormat(scope.row.amount)}}</span>
		                		</template>
							</el-table-column>
							<el-table-column prop="belong" min-width="120" v-bind:show-overflow-tooltip="true" 
								label="市场部归属" align="center"></el-table-column>
							<el-table-column prop="startDate" min-width="100" v-bind:show-overflow-tooltip="true" 
								label="服务开始日期" align="center" sortable>
									<template scope="scope">
		                    			<span>{{birthdayFormat(scope.row.startDate)}}</span>
		                			</template>
							</el-table-column>
							<el-table-column prop="endDate" min-width="100" v-bind:show-overflow-tooltip="true" 
								label="服务结束日期" align="center" sortable>
									<template scope="scope">
		                    			<span>{{birthdayFormat(scope.row.endDate)}}</span>
		                			</template>
							</el-table-column>
						</el-table>
					</el-tab-pane>
		  		</el-tabs>
			</el-row>
		</el-tab-pane>
		<el-tab-pane label="客户实际盘" name="customerCot">
			<span slot="label" @click="readCustomerCotList">客户实际盘</span>
			<!---------------------------客户实际盘查询面板 开始----------------------------------------------------------------------->
			<el-row style="margin:10px 10px 0px 10px;">
				<el-form :inline="true" :model="searchParams1" label-position="right" style="margin-bottom: 0px" >
					<el-row>
						<el-form-item label="股票代码" style="font-size: 13px;" prop="stockCode">
							<el-input size="small" v-model="searchParams1.stockCode" placeholder="股票代码" ></el-input>
						</el-form-item>
						<el-form-item label="股票名称" style="font-size: 13px;" prop="stockName">
							<el-input size="small" v-model="searchParams1.stockName" placeholder="股票名称" ></el-input>
						</el-form-item>
						<el-form-item>
							<el-button size="small" type="info" @click="readCustomerCotList">查询</el-button>
						</el-form-item>
					</el-row>	
				</el-form>
			</el-row>
			<el-row style="margin:10px 10px 0px 10px;">
				<el-col :span="8">
		            <el-button size="small" type="info" @click="showCustomerCotDialog(0)">客户建仓</el-button>
		            <el-button size="small" @click="readCustomerCotList">刷新列表</el-button>
		        </el-col>
			</el-row>
		<!---------------------------客户实际盘查询面板 结束----------------------------------------------------------------------->
		<!---------------------------数据表格 开始----------------------------------------------------------------------->
	    <el-row style="margin:10px 10px 0px 10px;">
	        <el-table id="12324"
	                  :data="pageData1.data"
	                  ref="entityTable"
	                  border
	                  max-height="400px"
	                  row-key="id"
	                  empty-text="-"
	                  append="加载中..."
	                  :row-style="{'font-size':'13px'}"
	                  style="width: 100%"
	                  @selection-change="selectionChange"
	                  @row-dblclick="readCustomerCotRecord"
	        >
	            <el-table-column
	            		fixed="left"
	            		align="center"
                    	min-width="70"
	                    prop="customerName"
	                    v-bind:show-overflow-tooltip="true"
	                    label="客户姓名"
	                    >
	            </el-table-column>
	            <el-table-column
	            		fixed="left"
	            		align="center"
	                    prop="stockCode"
	                    min-width="70"
	                    v-bind:show-overflow-tooltip="true"
	                    label="股票代码"
	                    >
	             </el-table-column>
	            
	            <el-table-column
	                    prop="stockName"
	                    min-width="100"
	                    align="center"
	                    v-bind:show-overflow-tooltip="true"
	                    label="股票名称"
	                    >
	                </el-table-column>
	            
	            <el-table-column
	                    prop="cotNum"
	                    min-width="100"
	                    align="center"
	                    v-bind:show-overflow-tooltip="true"
	                    label="持仓数量"
	                    >
	            </el-table-column>
	            
	            <el-table-column
	                    prop="cotPrice"
	                    min-width="70"
	                    align="center"
	                    v-bind:show-overflow-tooltip="true"
	                    label="成本价格"
	                    >
	            </el-table-column>
	            
	            <el-table-column
	                    prop="cotMoney"
	                    min-width="100"
	                    align="center"
	                    v-bind:show-overflow-tooltip="true"
	                    label="成本金额"
	                    >
	            </el-table-column>
	            
	            <el-table-column
	                    prop="currentPrice"
	                    min-width="70"
	                    align="center"
	                    v-bind:show-overflow-tooltip="true"
	                    label="当前价格"
	                    >
	                </el-table-column>
	            
	            <el-table-column
	                    prop="currentMoney"
	                    min-width="100"
	                    align="center"
	                    v-bind:show-overflow-tooltip="true"
	                    label="当前金额"
	                    >
	                </el-table-column>
	            
	            <el-table-column
	                    prop="lossPatio"
	                    min-width="70"
	                    align="center"
	                    v-bind:show-overflow-tooltip="true"
	                    label="盈亏比%"
	                    >
	                </el-table-column>
	            
	            <el-table-column
	            		fixed="right"
	            		align="center"
                    	min-width="100"
	                    prop="lossMoney"
	                    v-bind:show-overflow-tooltip="true"
	                    label="盈亏金额"
	                    >
	                </el-table-column>
	            
	            <el-table-column
	            		fixed="right"
	            		align="center"
                    	min-width="70"
	                    prop="position"
	                    v-bind:show-overflow-tooltip="true"
	                    label="仓位 %"
	                    >
	                </el-table-column>
	            
	            <el-table-column
	            		fixed="right"
	            		align="center"
                    	min-width="130"
	                    prop="createTime"
	                    v-bind:show-overflow-tooltip="true"
	                    label="创建时间"
	                    >
	                </el-table-column>
	            
	            <el-table-column
	                    fixed="right"
	                    label="操作"
	                    align="center"
	                    width="150">
	                <template scope="scope">
	                    <el-button-group size="small">
	                        <el-button size="small" type="warning" @click="showCustomerCotDialog(1,scope.row.id)">买入</el-button>
	                        <el-button v-show="isAble(scope.row.cotNum)" size="small" type="warning" @click="showCustomerCotDialog(2,scope.row.id)">卖出</el-button>
	                        <el-button   size="small" type="danger" @click="delCustomerCot(scope.row.id)">删除</el-button>
	                    </el-button-group>
	                </template>
	            </el-table-column>
	        </el-table>
	    </el-row>
	    <!-- 表尾 开始-->
	    <el-row style="float:right;margin:10px 10px 0px 10px;">
	        <el-col :span="8" class="text-right">
	        	<!-- 分页 -->
	            <el-pagination ref="entityTablePageCus"
	                           :current-page="pageData1.current"
	                           :page-sizes="[10, 50, 100]"
	                           :page-size="pageData1.size"
	                           layout="total, sizes, prev, pager, next, jumper"
	                           :total="pageData1.iTotalRecords"
	                           @size-change="readCustomerCotList"
	                           @current-change="readCustomerCotList"
	            >
	            </el-pagination>
	        </el-col>
	    </el-row>
	    <!-- 表尾 结束-->
		<!---------------------------数据表格 结束----------------------------------------------------------------------->
	    </el-tab-pane>
		<el-tab-pane label="公司虚拟盘" name="techerCot">
			<span slot="label" @click="readTeacherCotList">公司虚拟盘</span>
		<!-------------------------公司虚拟盘查询面板 开始--------------------------------------------------------------------->
			<el-row style="margin:10px 10px 0px 10px;">
				<el-form :inline="true" :model="searchParams2" label-position="right" style="margin-bottom: 0px" >
					<el-row>
						<el-form-item label="股票代码" style="font-size: 13px;" prop="stockCode">
							<el-input size="small" v-model="searchParams2.stockCode" placeholder="股票代码" ></el-input>
						</el-form-item>
						<el-form-item label="股票名称" style="font-size: 13px;" prop="stockName">
							<el-input size="small" v-model="searchParams2.stockName" placeholder="股票名称" ></el-input>
						</el-form-item>
						<el-form-item>
							<el-button size="small" type="info" @click="readTeacherCotList">查询</el-button>
						</el-form-item>
					</el-row>	
				</el-form>
			</el-row>
			<el-row style="margin:10px 10px 0px 10px;">
				<el-col :span="8">
		            <el-button size="small" type="info" @click="showTeacherCotDialog(0)">客户建仓</el-button>
		            <el-button size="small" @click="readTeacherCotList">刷新列表</el-button>
		        </el-col>
			</el-row>
		<!-------------------------公司虚拟盘盘查询面板 结束--------------------------------------------------------------------->
		<!-------------------------数据表格 开始--------------------------------------------------------------------->
	    <el-row style="margin:10px 10px 0px 10px;">
	        <el-table id="12324"
	                  :data="pageData2.data"
	                  ref="entityTable"
	                  border
	                  max-height="400px"
	                  row-key="id"
	                  empty-text="-"
	                  append="加载中..."
	                  :row-style="{'font-size':'13px'}"
	                  style="width: 100%"
	                  @selection-change="selectionChange"
	                  @row-dblclick="readTeacherCotRecord"
	        >
	            
	            <el-table-column
	            		fixed="left"
	            		align="center"
	                    prop="customerName"
	                    min-width="70"
	                    v-bind:show-overflow-tooltip="true"
	                    label="客户姓名"
	                    >
	            </el-table-column>
	            
	            <el-table-column
	            		fixed="left"
	            		align="center"
	                    prop="stockCode"
	                    min-width="70"
	                    v-bind:show-overflow-tooltip="true"
	                    label="股票代码"
	                    >
	             </el-table-column>
	            
	            <el-table-column
	                    prop="stockName"
	                    min-width="100"
	                    align="center"
	                    v-bind:show-overflow-tooltip="true"
	                    label="股票名称"
	                    >
	                </el-table-column>
	            
	            <el-table-column
	                    prop="cotNum"
	                    min-width="100"
	                    align="center"
	                    v-bind:show-overflow-tooltip="true"
	                    label="持仓数量"
	                    >
	            </el-table-column>
	            
	            <el-table-column
	                    prop="cotPrice"
	                    min-width="70"
	                    align="center"
	                    v-bind:show-overflow-tooltip="true"
	                    label="成本价格"
	                    >
	            </el-table-column>
	            
	            <el-table-column
	                    prop="cotMoney"
	                    min-width="100"
	                    align="center"
	                    v-bind:show-overflow-tooltip="true"
	                    label="成本金额"
	                    >
	            </el-table-column>
	            
	            <el-table-column
	                    prop="currentPrice"
	                    min-width="70"
	                    align="center"
	                    v-bind:show-overflow-tooltip="true"
	                    label="当前价格"
	                    >
	                </el-table-column>
	            
	            <el-table-column
	                    prop="currentMoney"
	                    min-width="100"
	                    align="center"
	                    v-bind:show-overflow-tooltip="true"
	                    label="当前金额"
	                    >
	                </el-table-column>
	            
	            <el-table-column
	                    prop="lossPatio"
	                    min-width="70"
	                    align="center"
	                    v-bind:show-overflow-tooltip="true"
	                    label="盈亏比%"
	                    >
	                </el-table-column>
	            
	            <el-table-column
	            		fixed="right"
	            		align="center"
                    	width="100"
	                    prop="lossMoney"
	                    v-bind:show-overflow-tooltip="true"
	                    label="盈亏金额"
	                    >
	                </el-table-column>
	            
	            <el-table-column
	            		fixed="right"
	            		align="center"
                    	width="70"
	                    prop="position"
	                    v-bind:show-overflow-tooltip="true"
	                    label="仓位 %"
	                    >
	                </el-table-column>
	            
	            <el-table-column
	            		fixed="right"
	            		align="center"
                    	width="130"
	                    prop="createTime"
	                    v-bind:show-overflow-tooltip="true"
	                    label="创建时间"
	                    >
	                </el-table-column>
	            
	            <el-table-column
	                    fixed="right"
	                    label="操作"
	                    align="center"
	                    width="150">
	                <template scope="scope">
	                    <el-button-group size="small">
	                        <el-button size="small" type="warning" @click="showTeacherCotDialog(1,scope.row.id)">买入</el-button>
	                        <el-button v-show="isAble(scope.row.cotNum)" size="small" type="warning" @click="showTeacherCotDialog(2,scope.row.id)">卖出</el-button>
	                        <el-button   size="small" type="danger" @click="delTeacherCot(scope.row.id)">删除</el-button>
	                    </el-button-group>
	                </template>
	            </el-table-column>
	        </el-table>
	    </el-row>
	   <!-- 表尾 开始 --> 
	    <el-row style="float:right;margin:10px 10px 0px 10px;">
	        <el-col :span="16" class="text-right">
	        	<!-- 分页 --> 
	            <el-pagination ref="entityTablePageTea"
	                           :current-page="pageData2.current"
	                           :page-sizes="[10, 50, 100]"
	                           :page-size="pageData2.size"
	                           layout="total, sizes, prev, pager, next, jumper"
	                           :total="pageData2.iTotalRecords"
	                           @size-change="readTeacherCotList"
	                           @current-change="readTeacherCotList"
	            >
	            </el-pagination>
	        </el-col>
	    </el-row>
	    <!-- 表尾 结束-->
		<!---------------------------数据表格 结束----------------------------------------------------------------------->
	    </el-tab-pane>
	</el-tabs>
</el-dialog>
<!---------------------------弹出详情窗口 结束----------------------------------------------------------------------->


<!---------------------------弹出实盘客户仓位操作记录窗口 开始----------------------------------------------------------------------->
    <el-dialog title="客户实盘仓位操作记录" size="large" :visible.sync="customerCotRecordVisible">
		<!---------------------------客户实际盘仓位操作记录查询面板 开始----------------------------------------------------------------------->
		<el-row style="margin:10px 10px 0px 10px;">
			<el-form :inline="true" :model="searchParams12" label-position="right" style="margin-bottom: 0px" >
				<el-row>
					<el-form-item label="操作日期" style="font-size: 13px;" prop="updateDate">
			    		<el-date-picker type="date" size="small" placeholder="选择日期" @change="dayFormat21" v-model="searchParams12.updateDate"></el-date-picker>
			    	</el-form-item>
					<el-form-item>
						<el-button size="small" type="info" @click="readCustomerCotRecordList">查询</el-button>
						<el-button size="small" @click="readCustomerCotRecordList">刷新列表</el-button>
					</el-form-item>
				</el-row>	
			</el-form>
		</el-row>
		<!---------------------------客户实际盘仓位操作记录查询面板 结束----------------------------------------------------------------------->
		<!---------------------------数据表格 开始----------------------------------------------------------------------->
	    <el-row style="margin:10px 10px 0px 10px;">
	        <el-table id="12324"
	                  :data="pageData12.data"
	                  ref="entityTable"
	                  border
	                  max-height="456px"
	                  row-key="id"
	                  empty-text="-"
	                  append="加载中..."
	                  :row-style="{'font-size':'13px'}"
	                  style="width: 100%"
	                  @selection-change="selectionChange"
	        >
	        	<el-table-column
	        		fixed="left"
	            	align="center"
                    width="70"
                    prop="directionType"
                    min-width="70"
                    v-bind:show-overflow-tooltip="true"
                    label="操作类型"
                    >
                    <template scope="scope">
                    	<lz-dic-txt dic-type="STOCKTYPE" :dic-code="scope.row.directionType"></lz-dic-txt>
                	</template>
                </el-table-column>
                
	        	<el-table-column
	            		fixed="left"
	            		align="center"
                    	width="70"
	                    prop="stockCode"
	                    min-width="100"
	                    v-bind:show-overflow-tooltip="true"
	                    label="股票代码"
	                    >
	             </el-table-column>
	            
	            <el-table-column
	            		fixed="left"
	            		align="center"
	                    prop="stockName"
	                    min-width="70"
	                    align="center"
	                    v-bind:show-overflow-tooltip="true"
	                    label="股票名称"
	                    >
	                </el-table-column>
                
            <el-table-column
                    prop="tradeNum"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="交易数量"
                    >
                </el-table-column>
                
             <el-table-column
                    prop="cotPrice"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="成本价格"
                    >
                </el-table-column>
            
            <el-table-column
                    prop="cotMoney"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="成本金额"
                    >
                </el-table-column>
            
            <el-table-column
                    prop="tradePrice"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="交易价格"
                    >
                </el-table-column>
            
            <el-table-column
                    prop="tradeMoney"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="交易金额"
                    >
                </el-table-column>
           
            <el-table-column
                    prop="thenLossMoney"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="盈亏金额"
                    >
                </el-table-column>
	            
	            <el-table-column
	            		fixed="right"
	            		align="center"
                    	min-width="100"
	                    prop="createTime"
	                    v-bind:show-overflow-tooltip="true"
	                    label="操作时间"
	                    >
	                </el-table-column>
	        </el-table>
	    </el-row>
	    <!-- 表尾 开始-->
	    <el-row style="float:right;margin:10px 10px 10px 10px;">
	        <el-col :span="8" class="text-right">
	        	<!-- 分页 -->
	            <el-pagination ref="entityTablePageCusLog"
	                           :current-page="pageData12.current"
	                           :page-sizes="[10, 50, 100]"
	                           :page-size="pageData12.size"
	                           layout="total, sizes, prev, pager, next, jumper"
	                           :total="pageData12.iTotalRecords"
	                           @size-change="readCustomerCotRecordList"
                           	   @current-change="readCustomerCotRecordList"
	            >
	            </el-pagination>
	        </el-col>
	    </el-row>
	    <!-- 表尾 结束-->
		<!---------------------------数据表格 结束----------------------------------------------------------------------->
    </el-dialog>
<!---------------------------弹出实盘客户仓位操作记录窗口 结束----------------------------------------------------------------------->

<!---------------------------弹出虚盘交易窗口 开始----------------------------------------------------------------------->
	<el-dialog :title="teacherCotEntity.directionType == 2?'卖出':'客户建仓/买入'" size="small" :visible.sync="teacherEditFormVisible">
        <el-form  ref="teacherEditForm" :model="teacherCotEntity" :rules="rules3">
	        <el-input size="small" v-model="teacherCotEntity.id" v-show="false" ></el-input>
	        <el-input size="small" v-model="teacherCotEntity.directionType" v-show="false" ></el-input>
	    	<el-col :span="24">
		        <el-form-item label="可投资金" label-width="100px" prop="useMoney">
		        	<el-input :readonly="true" type="text"  size="small" placeholder="可投资金" v-model="teacherCotEntity.useMoney"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="13">
		        <el-form-item label="客户id" label-width="100px" prop="customerId">
		        	<el-input :readonly="true" type="text"  size="small" placeholder="客户id" v-model="teacherCotEntity.customerId"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="11">
		        <el-form-item label="客户姓名" label-width="100px" prop="customerName">
		        	<el-input :readonly="true" type="text"  size="small" placeholder="客户姓名" v-model="teacherCotEntity.customerName"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="股票代码" label-width="100px" prop="stockCode">
		    		<el-input  type="text"  size="small" placeholder="股票代码" @blur="getTeacherStocksCode(teacherCotEntity.stockCode)" v-model="teacherCotEntity.stockCode"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="股票名称" label-width="100px" prop="stockName">
		    		<el-input :readonly="true" type="text"  size="small" placeholder="股票名称" v-model="teacherCotEntity.stockName"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="交易数量" label-width="100px" prop="cotNum">
		    		<el-input  type="number" size="small" @blur="getTeacherCotMoney()" v-model="teacherCotEntity.cotNum" placeholder="交易数量" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="成交价格" label-width="100px" prop="cotPrice">
		    		<el-input type="text" size="small" @blur="getTeacherCotMoney()" v-model="teacherCotEntity.cotPrice" placeholder="成交价格" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="成交金额" label-width="100px" prop="cotMoney">
		    		<el-input :readonly="true" type="text" size="small" v-model="teacherCotEntity.cotMoney" placeholder="成交金额" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="当前价格" label-width="100px" prop="currentPrice">
		    		<el-input :readonly="true" type="text" size="small" v-model="teacherCotEntity.currentPrice" placeholder="当前价格" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="当前金额" label-width="100px" prop="currentMoney">
		    		<el-input :readonly="true" type="text" size="small" v-model="teacherCotEntity.currentMoney" placeholder="当前金额" ></el-input>
		        </el-form-item>
	        </el-col>
	        <el-col :span="24">
	        	<el-row style="margin-top:10px;margin-bottom:10px;" type="flex" justify="center">
			    	<el-button size="small" @click="teacherEditFormVisible = false">取 消</el-button>
	           		<el-button size="small" type="info"  @click="teacherCotsave">保 存</el-button>
				</el-row>
	        </el-col>
        </el-form>
    </el-dialog>
<!---------------------------弹出虚盘交易窗口 结束----------------------------------------------------------------------->


<!---------------------------弹出虚盘客户仓位操作记录窗口 开始----------------------------------------------------------------------->
    <el-dialog title="公司虚盘仓位操作记录" size="large" :visible.sync="teacherCotRecordVisible">
		<!---------------------------公司虚拟盘仓位操作记录查询面板 开始----------------------------------------------------------------------->
		<el-row style="margin:10px 10px 0px 10px;">
			<el-form :inline="true" :model="searchParams3" label-position="right" style="margin-bottom: 0px" >
				<el-row>
					<el-form-item label="操作日期" style="font-size: 13px;" prop="updateDate">
			    		<el-date-picker type="date" size="small" placeholder="选择日期" @change="dayFormat22" v-model="searchParams3.updateDate"></el-date-picker>
			    	</el-form-item>
					<el-form-item>
						<el-button size="small" type="info" @click="readTeacherCotRecordList">查询</el-button>
						<el-button size="small" @click="readTeacherCotRecordList">刷新列表</el-button>
					</el-form-item>
				</el-row>	
			</el-form>
		</el-row>
		<!---------------------------公司虚拟盘仓位操作记录查询面板 结束----------------------------------------------------------------------->
		<!---------------------------数据表格 开始----------------------------------------------------------------------->
	    <el-row style="margin:10px 10px 0px 10px;">
	        <el-table id="12324"
	                  :data="pageData3.data"
	                  ref="entityTable"
	                  border
	                  max-height="456px"
	                  row-key="id"
	                  empty-text="-"
	                  append="加载中..."
	                  :row-style="{'font-size':'13px'}"
	                  style="width: 100%"
	                  @selection-change="selectionChange"
	        >
	           <el-table-column
	        		fixed="left"
	            	align="center"
                    width="70"
                    prop="directionType"
                    min-width="70"
                    v-bind:show-overflow-tooltip="true"
                    label="操作类型"
                    >
                    <template scope="scope">
                    	<lz-dic-txt dic-type="STOCKTYPE" :dic-code="scope.row.directionType"></lz-dic-txt>
                	</template>
                </el-table-column>
                
	        	<el-table-column
	            		fixed="left"
	            		align="center"
                    	width="70"
	                    prop="stockCode"
	                    min-width="100"
	                    v-bind:show-overflow-tooltip="true"
	                    label="股票代码"
	                    >
	             </el-table-column>
	            
	            <el-table-column
	            		fixed="left"
	            		align="center"
	                    prop="stockName"
	                    min-width="70"
	                    align="center"
	                    v-bind:show-overflow-tooltip="true"
	                    label="股票名称"
	                    >
	                </el-table-column>
            
            <el-table-column
                    prop="tradeNum"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="交易数量"
                    >
                </el-table-column>
                
             <el-table-column
                    prop="cotPrice"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="成本价格"
                    >
                </el-table-column>
            
            <el-table-column
                    prop="cotMoney"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="成本金额"
                    >
                </el-table-column>
            
            <el-table-column
                    prop="tradePrice"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="交易价格"
                    >
                </el-table-column>
            
            <el-table-column
                    prop="tradeMoney"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="交易金额"
                    >
                </el-table-column>
           
            <el-table-column
                    prop="thenLossMoney"
                    min-width="100"
                    v-bind:show-overflow-tooltip="true"
                    label="盈亏金额"
                    >
                </el-table-column>
                 <el-table-column
	            		fixed="right"
	            		align="center"
                    	min-width="100"
	                    prop="createTime"
	                    v-bind:show-overflow-tooltip="true"
	                    label="操作时间"
	                    >
	                </el-table-column>
	        </el-table>
	    </el-row>
	    <!-- 表尾 开始-->
	    <el-row style="float:right;margin:10px 10px 10px 10px;">
	        <el-col :span="8" class="text-right">
	        	<!-- 分页 -->
	            <el-pagination ref="entityTablePageTeaLog"
	                           :current-page="pageData3.current"
	                           :page-sizes="[10, 50, 100]"
	                           :page-size="pageData3.size"
	                           layout="total, sizes, prev, pager, next, jumper"
	                           :total="pageData3.iTotalRecords"
	                           @size-change="readTeacherCotRecordList"
                           	   @current-change="readTeacherCotRecordList"
	            >
	            </el-pagination>
	        </el-col>
	    </el-row>
	    <!-- 表尾 结束-->
		<!---------------------------数据表格 结束----------------------------------------------------------------------->
    </el-dialog>
<!---------------------------弹出虚盘客户仓位操作记录窗口 结束----------------------------------------------------------------------->

<!---------------------------弹出实盘交易窗口 开始----------------------------------------------------------------------->
	<el-dialog :title="customerCotEntity.directionType == 2?'卖出':'客户建仓/买入'" size="small" :visible.sync="customerEditFormVisible">
        <el-form  ref="customerEditForm" :model="customerCotEntity"  :rules="rules3">
        	<el-input size="small" v-model="customerCotEntity.id" v-show="false" ></el-input>
        	<el-input size="small" v-model="customerCotEntity.directionType" v-show="false" ></el-input>
	    	<el-col :span="24">
		        <el-form-item label="可投资金" label-width="100px" prop="useMoney">
					<el-input :readonly="true" type="text"  size="small" placeholder="可投资金" v-model="customerCotEntity.useMoney"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="13">
		        <el-form-item label="客户id" label-width="100px" prop="customerId">
		        	<el-input :readonly="true" type="text"  size="small" placeholder="客户id" v-model="customerCotEntity.customerId"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="11">
		        <el-form-item label="客户姓名" label-width="100px" prop="customerName">
		        	<el-input :readonly="true" type="text"  size="small" placeholder="客户姓名" v-model="customerCotEntity.customerName"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="股票代码" label-width="100px" prop="stockCode">
		    		<el-input  type="text"  size="small" placeholder="股票代码" @blur="getStocksCode(customerCotEntity.stockCode)" v-model="customerCotEntity.stockCode"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="股票名称" label-width="100px" prop="stockName">
		    		<el-input :readonly="true" type="text"  size="small" placeholder="股票名称" v-model="customerCotEntity.stockName"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="交易数量" label-width="100px" prop="cotNum">
		    		<el-input type="number" size="small" v-model="customerCotEntity.cotNum" @blur="getCotMoney()" placeholder="交易数量" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="成交价格" label-width="100px" prop="cotPrice">
		    		<el-input  type="text" size="small" v-model="customerCotEntity.cotPrice" @blur="getCotMoney()" placeholder="成交价格" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="成交金额" label-width="100px" prop="cotMoney">
		    		<el-input :readonly="true" type="text" size="small" v-model="customerCotEntity.cotMoney" placeholder="成交金额" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="当前价格" label-width="100px" prop="currentPrice">
		    		<el-input :readonly="true" type="text" size="small" v-model="customerCotEntity.currentPrice" placeholder="当前价格" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="当前金额" label-width="100px" prop="currentMoney">
		    		<el-input :readonly="true" type="text" size="small" v-model="customerCotEntity.currentMoney" placeholder="当前金额" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<!-- <el-col :span="24">
		        <el-form-item label="盈亏比" label-width="100px" prop="lossPatio">
		    		<el-input type="text" size="small" v-model="customerCotEntity.lossPatio" placeholder="盈亏比" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="盈亏金额" label-width="100px" prop="lossMoney">
		    		<el-input type="text" size="small" v-model="customerCotEntity.lossMoney" placeholder="盈亏金额" ></el-input>
		        </el-form-item>
	        </el-col> -->
	        <el-col :span="24">
	        	<el-row style="margin-top:10px;margin-bottom:10px;" type="flex" justify="center">
			    	<el-button size="small" @click="customerEditFormVisible = false">取 消</el-button>
            		<el-button size="small" type="info"  @click="customerCotsave">保 存</el-button>
				</el-row>
	        </el-col>
        </el-form>
    </el-dialog>

<!---------------------------弹出实盘交易窗口 结束----------------------------------------------------------------------->
<!---------------------------弹出实盘批量建仓窗口 开始----------------------------------------------------------------------->
    <el-dialog title="批量建仓" :visible.sync="customerCotVisible">
        <el-form ref="stockForm" :model="customerCotEntity1" :rules="rules3">
	    	<el-col :span="24">
		        <el-form-item label="客户ID" label-width="100px" prop="ids">
		    			<el-input :readonly="true" size="small" v-model="customerCotEntity1.ids" placeholder="客户ID" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="客户姓名" label-width="100px" prop="names">
		    			<el-input :readonly="true" size="small" v-model="customerCotEntity1.names" placeholder="客户姓名" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="股票代码" label-width="100px" prop="stockCode">
		    		<el-input  type="text"  size="small" placeholder="股票代码" @blur="getStocksCodes(customerCotEntity1.stockCode)" v-model="customerCotEntity1.stockCode"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="股票名称" label-width="100px" prop="stockName">
		    		<el-input :readonly="true" type="text"  size="small" placeholder="股票名称" v-model="customerCotEntity1.stockName"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="买入(仓位)" label-width="100px" prop="position">
		        	<el-radio-group v-model="customerCotEntity1.position">
					     <el-radio label="1">全仓</el-radio>
					     <el-radio label="0.5">1/2</el-radio>
					     <el-radio label="0.33">1/3</el-radio>
					     <el-radio label="0.25">1/4</el-radio>
					     <el-radio label="0.2">1/5</el-radio>
				    </el-radio-group>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="成交价格" label-width="100px" prop="cotPrice">
		    		<el-input  type="text" size="small" v-model="customerCotEntity1.cotPrice"  placeholder="成交价格" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="当前价格" label-width="100px" prop="currentPrice">
		    		<el-input :readonly="true" type="text" size="small" v-model="customerCotEntity1.currentPrice" placeholder="当前价格" ></el-input>
		        </el-form-item>
	        </el-col>
        </el-form>
        <div slot="footer" class="dialog-footer">
            <el-button style="margin-top:10px" size="small" @click="customerCotVisible = false">取 消</el-button>
            <el-button style="margin-top:10px" size="small" type="info"  @click="stockCotSave">批量建仓</el-button>
        </div>
    </el-dialog>
<!---------------------------弹出实盘批量建仓窗口 结束----------------------------------------------------------------------->
<!---------------------------弹出虚盘批量建仓窗口 开始----------------------------------------------------------------------->
    <el-dialog title="虚盘批量建仓" :visible.sync="teacherCotVisible">
        <el-form ref="stockTeacherForm" :model="teacherCotEntity1" :rules="rules4" >
	    	<el-col :span="24">
		        <el-form-item label="客户ID" label-width="100px" prop="idsStr">
		    			<el-input :readonly="true" size="small" v-model="teacherCotEntity1.idsStr" placeholder="客户ID" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="客户姓名" label-width="100px" prop="namesStr">
		    			<el-input :readonly="true" size="small" v-model="teacherCotEntity1.namesStr" placeholder="客户姓名" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="股票代码" label-width="100px" prop="stockCode">
		    		<el-input  type="text"  size="small" placeholder="股票代码" @blur="getTeacherStocksCodes(teacherCotEntity1.stockCode)" v-model="teacherCotEntity1.stockCode"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="股票名称" label-width="100px" prop="stockName">
		    		<el-input :readonly="true" type="text"  size="small" placeholder="股票名称" v-model="teacherCotEntity1.stockName"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="买入(仓位)" label-width="100px" prop="position">
		        	<el-radio-group v-model="teacherCotEntity1.position">
					     <el-radio label="1">全仓</el-radio>
					     <el-radio label="0.5">1/2</el-radio>
					     <el-radio label="0.33">1/3</el-radio>
					     <el-radio label="0.25">1/4</el-radio>
					     <el-radio label="0.2">1/5</el-radio>
					     <el-radio label="0.1">1/10</el-radio>
				    </el-radio-group>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="成交价格" label-width="100px" prop="cotPrice">
		    		<el-input  type="text" size="small" v-model="teacherCotEntity1.cotPrice"  placeholder="成交价格" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="当前价格" label-width="100px" prop="currentPrice">
		    		<el-input :readonly="true" type="text" size="small" v-model="teacherCotEntity1.currentPrice" placeholder="当前价格" ></el-input>
		        </el-form-item>
	        </el-col>
        </el-form>
        <div slot="footer" class="dialog-footer">
            <el-button style="margin-top:10px" size="small" @click="teacherCotVisible = false">取 消</el-button>
            <el-button style="margin-top:10px" size="small" type="info"  @click="stockTeacherCotSave">批量建仓</el-button>
        </div>
    </el-dialog>
<!---------------------------弹出虚盘批量建仓窗口 结束----------------------------------------------------------------------->
<!-------------------------弹出虚盘批量建仓失败提示窗口 开始------------------------------------------------------------------->
<el-dialog titlt="建仓失败客户信息" :visible.sync="stockFailureVisible">
		<span><font size="5" color="red">建仓失败客户信息</font></span>
      <el-form :model="stockFailureEntity" >
		<el-col :span="24">
	    	<el-form-item label="客户ID：" >
	    		<el-input :readonly="true" type="textarea" size="small" v-model="stockFailureEntity.idsStr" ></el-input>
       		</el-form-item>
       	</el-col>
	  	<el-col :span="24">
	    	<el-form-item label="客户姓名：" >
	    		<el-input :readonly="true" type="textarea" size="small" v-model="stockFailureEntity.namesStr" ></el-input>
       		</el-form-item>
       	</el-col>
     </el-form>
     <div slot="footer" class="dialog-footer">
         <el-button style="margin-top:10px" type="info" size="small" @click="stockFailureVisible = false">关闭</el-button>
     </div>
</el-dialog>
<!-------------------------弹出虚盘批量建仓失败提示窗口 结束------------------------------------------------------------------->
<!-------------------------弹出实盘批量建仓失败提示窗口 开始------------------------------------------------------------------->
<el-dialog titlt="建仓失败客户信息" :visible.sync="stockCusFailureVisible">
		<span><font size="5" color="red">建仓失败客户信息</font></span>
      <el-form :model="stockCusFailureEntity" >
		<el-col :span="24">
	    	<el-form-item label="客户ID：" >
	    		<el-input :readonly="true" type="textarea" size="small" v-model="stockCusFailureEntity.ids" ></el-input>
       		</el-form-item>
       	</el-col>
	  	<el-col :span="24">
	    	<el-form-item label="客户姓名：" >
	    		<el-input :readonly="true" type="textarea" size="small" v-model="stockCusFailureEntity.names" ></el-input>
       		</el-form-item>
       	</el-col>
     </el-form>
     <div slot="footer" class="dialog-footer">
         <el-button style="margin-top:10px" type="info" size="small" @click="stockCusFailureVisible = false">关闭</el-button>
     </div>
</el-dialog>
<!-------------------------弹出实盘批量建仓失败提示窗口 结束------------------------------------------------------------------->
<!---------------------------弹出虚盘批量平仓窗口 开始----------------------------------------------------------------------->
    <el-dialog title="虚盘批量平仓" :visible.sync="teacherCotOutVisible">
        <el-form ref="stockTeacherOutForm" :model="teacherCotOutEntity" :rules="rules4" >
	    	<el-col :span="24">
		        <el-form-item label="客户ID" label-width="100px" prop="ids">
		    			<el-input :readonly="true" size="small" v-model="teacherCotOutEntity.ids" placeholder="客户ID" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="客户姓名" label-width="100px" prop="names">
		    			<el-input :readonly="true" size="small" v-model="teacherCotOutEntity.names" placeholder="客户姓名" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="股票代码" label-width="100px" prop="stockCode">
		    		<el-input  type="text"  size="small" placeholder="股票代码" @blur="getTeacherStocksCodeOut(teacherCotOutEntity.stockCode)" v-model="teacherCotOutEntity.stockCode"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="股票名称" label-width="100px" prop="stockName">
		    		<el-input :readonly="true" type="text"  size="small" placeholder="股票名称" v-model="teacherCotOutEntity.stockName"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="成交价格" label-width="100px" prop="cotPrice">
		    		<el-input  type="text" size="small" v-model="teacherCotOutEntity.cotPrice"  placeholder="成交价格" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="当前价格" label-width="100px" prop="currentPrice">
		    		<el-input :readonly="true" type="text" size="small" v-model="teacherCotOutEntity.currentPrice" placeholder="当前价格" ></el-input>
		        </el-form-item>
	        </el-col>
        </el-form>
        <div slot="footer" class="dialog-footer">
            <el-button style="margin-top:10px" size="small" @click="teacherCotOutVisible = false">取 消</el-button>
            <el-button style="margin-top:10px" size="small" type="info"  @click="stockTeacherCotOut">批量平仓</el-button>
        </div>
    </el-dialog>
<!---------------------------弹出虚盘批量平仓窗口 结束----------------------------------------------------------------------->
<!-------------------------弹出虚盘批量平仓失败提示窗口 开始------------------------------------------------------------------->
<el-dialog titlt="平仓失败客户信息" :visible.sync="stockOutFailureVisible">
		<span><font size="5" color="red">平仓失败客户信息</font></span>
      <el-form :model="stockOutFailureEntity" >
		<el-col :span="24">
	    	<el-form-item label="客户ID：" >
	    		<el-input :readonly="true" type="textarea" size="small" v-model="stockOutFailureEntity.ids" ></el-input>
       		</el-form-item>
       	</el-col>
	  	<el-col :span="24">
	    	<el-form-item label="客户姓名：" >
	    		<el-input :readonly="true" type="textarea" size="small" v-model="stockOutFailureEntity.names" ></el-input>
       		</el-form-item>
       	</el-col>
     </el-form>
     <div slot="footer" class="dialog-footer">
         <el-button style="margin-top:10px" type="info" size="small" @click="stockOutFailureVisible = false">关闭</el-button>
     </div>
</el-dialog>
<!-------------------------弹出虚盘批量平仓失败提示窗口 结束------------------------------------------------------------------->
<!---------------------------弹出虚盘批量平半仓窗口 开始----------------------------------------------------------------------->
    <el-dialog title="虚盘批量平仓" :visible.sync="teacherHalfCotOutVisible">
        <el-form ref="stockTeacherHalfOutForm" :model="teacherHalfCotOutEntity" :rules="rules4" >
	    	<el-col :span="24">
		        <el-form-item label="客户ID" label-width="100px" prop="ids">
		    			<el-input :readonly="true" size="small" v-model="teacherHalfCotOutEntity.ids" placeholder="客户ID" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="客户姓名" label-width="100px" prop="names">
		    			<el-input :readonly="true" size="small" v-model="teacherHalfCotOutEntity.names" placeholder="客户姓名" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="股票代码" label-width="100px" prop="stockCode">
		    		<el-input  type="text"  size="small" placeholder="股票代码" @blur="getTeacherHalfStocksCodeOut(teacherHalfCotOutEntity.stockCode)" v-model="teacherHalfCotOutEntity.stockCode"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="股票名称" label-width="100px" prop="stockName">
		    		<el-input :readonly="true" type="text"  size="small" placeholder="股票名称" v-model="teacherHalfCotOutEntity.stockName"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="成交价格" label-width="100px" prop="cotPrice">
		    		<el-input  type="text" size="small" v-model="teacherHalfCotOutEntity.cotPrice"  placeholder="成交价格" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="当前价格" label-width="100px" prop="currentPrice">
		    		<el-input :readonly="true" type="text" size="small" v-model="teacherHalfCotOutEntity.currentPrice" placeholder="当前价格" ></el-input>
		        </el-form-item>
	        </el-col>
        </el-form>
        <div slot="footer" class="dialog-footer">
            <el-button style="margin-top:10px" size="small" @click="teacherHalfCotOutVisible = false">取 消</el-button>
            <el-button style="margin-top:10px" size="small" type="info"  @click="stockTeacherHalfCotOut">批量平半仓</el-button>
        </div>
    </el-dialog>
<!---------------------------弹出虚盘批量平半仓窗口 结束----------------------------------------------------------------------->
<!---------------------------弹出虚盘批量加仓窗口 开始----------------------------------------------------------------------->
    <el-dialog title="虚盘批量加仓" :visible.sync="teacherCotAddVisible">
        <el-form ref="stockTeacherAddForm" :model="teacherCotEntity1" :rules="rules4" >
	    	<el-col :span="24">
		        <el-form-item label="客户ID" label-width="100px" prop="idsStr">
		    			<el-input :readonly="true" size="small" v-model="teacherCotEntity1.idsStr" placeholder="客户ID" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="客户姓名" label-width="100px" prop="namesStr">
		    			<el-input :readonly="true" size="small" v-model="teacherCotEntity1.namesStr" placeholder="客户姓名" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="股票代码" label-width="100px" prop="stockCode">
		    		<el-input  type="text"  size="small" placeholder="股票代码" @blur="getTeacherStocksCodes(teacherCotEntity1.stockCode)" v-model="teacherCotEntity1.stockCode"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="股票名称" label-width="100px" prop="stockName">
		    		<el-input :readonly="true" type="text"  size="small" placeholder="股票名称" v-model="teacherCotEntity1.stockName"></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="买入(仓位)" label-width="100px" prop="position">
		        	<el-radio-group v-model="teacherCotEntity1.position">
					     <el-radio label="0.5">50%</el-radio>
					     <el-radio label="0.25">25%</el-radio>
					     <el-radio label="0.2">20%</el-radio>
					     <el-radio label="0.1">10%</el-radio>
				    </el-radio-group>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="成交价格" label-width="100px" prop="cotPrice">
		    		<el-input  type="text" size="small" v-model="teacherCotEntity1.cotPrice"  placeholder="成交价格" ></el-input>
		        </el-form-item>
	        </el-col>
	    	<el-col :span="24">
		        <el-form-item label="当前价格" label-width="100px" prop="currentPrice">
		    		<el-input :readonly="true" type="text" size="small" v-model="teacherCotEntity1.currentPrice" placeholder="当前价格" ></el-input>
		        </el-form-item>
	        </el-col>
        </el-form>
        <div slot="footer" class="dialog-footer">
            <el-button style="margin-top:10px" size="small" @click="teacherCotAddVisible = false">取 消</el-button>
            <el-button style="margin-top:10px" size="small" type="info"  @click="stockTeacherCotAddSave">批量加仓</el-button>
        </div>
    </el-dialog>
<!---------------------------弹出虚盘批量加仓窗口 结束----------------------------------------------------------------------->
<!-------------------------弹出虚盘批量加仓失败提示窗口 开始------------------------------------------------------------------->
<el-dialog titlt="加仓失败客户信息" :visible.sync="stockFailureAddVisible">
		<span><font size="5" color="red">加仓失败客户信息</font></span>
      <el-form :model="stockFailureEntity" >
		<el-col :span="24">
	    	<el-form-item label="客户ID：" >
	    		<el-input :readonly="true" type="textarea" size="small" v-model="stockFailureEntity.idsStr" ></el-input>
       		</el-form-item>
       	</el-col>
	  	<el-col :span="24">
	    	<el-form-item label="客户姓名：" >
	    		<el-input :readonly="true" type="textarea" size="small" v-model="stockFailureEntity.namesStr" ></el-input>
       		</el-form-item>
       	</el-col>
     </el-form>
     <div slot="footer" class="dialog-footer">
         <el-button style="margin-top:10px" type="info" size="small" @click="stockFailureAddVisible = false">关闭</el-button>
     </div>
</el-dialog>
<!-------------------------弹出虚盘批量建仓失败提示窗口 结束------------------------------------------------------------------->
</div>
<input type="hidden" id="status" name="status" />
<input type="hidden" id="callFile" name="callFile" />
<script type="text/javascript">
	function G (id,val) {
		var obj = document.getElementById(id);
		obj.value = val;
	};
	
	/**
     * 接收电话状态通知
     * @param data
     */
    var notifyPhoneStatus = function(data){
        //处理逻辑
        //接收到电话状态
        var event=data.event;
        //根据不同事件类型进行处理
        switch(event)
        {
            case "OnAnswered" :
                console.log("收到状态通知:"+event);
                if (data.direct == "out") {
        			console.log("对方应答...","  录音:" + data.file + ",时间：" + data.dt );
        		} else {
        			console.log("我方应答...","  录音:" + data.file + ",时间：" + data.dt );
        		}
                G("callFile",data.file);
        		//通话开始
        		G("status",1);
                break;
            case "OnHangUp" :
                console.log("收到状态通知:"+event);
                if (data.direct == "out") {
        			console.log("对方挂机...","  就绪:" + (data.sta == "1" ? "空闲" : "置忙") + "时间：" + data.dt );
        		} else {
        			console.log("我方挂机...","  就绪:" + (data.sta == "1" ? "空闲" : "置忙") + "时间：" + data.dt );
        		}
        		//通话结束
        		G("status",2);
                break;
            default:
                console.log("收到（摘机/挂机）外其他状态通知:"+event);
        }
    }
	
</script>
</body>
<script src="/business/server/customer_more.js"></script>
</html>